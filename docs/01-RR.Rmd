---
title: "Reproducible Research"
subtitle: "Introduction to Data Science with Unix and R"
author: "Marco Chiapello"
date: "2020-06-08"
output:
  xaringan::moon_reader:
    css: ["scrollable.css", "mtheme_max.css", "fonts_mtheme_max.css"]
    self_contained: false
    lib_dir: libs
    chakra: libs/remark-latest.min.js
    nature:
      ratio: '16:9'
      highlightStyle: github
      highlightLines: true
    countIncrementalSlides: false
    seal: false  
---

```{r setup, include=FALSE, cache=FALSE}
# set working directory to docs folder
setwd(here::here("docs"))

# Set global R options
options(htmltools.dir.version = FALSE, servr.daemon = TRUE)

# Set global knitr chunk options
knitr::opts_chunk$set(
  fig.align = "center", 
  cache = TRUE,
  error = FALSE,
  message = FALSE, 
  warning = FALSE, 
  collapse = TRUE 
)

# This is good for getting the ggplot background consistent with
# the html background color
library(ggplot2)
thm <- theme_bw()
theme_set(thm)

library(RefManageR)
BibOptions(check.entries = FALSE,
           bib.style = "authoryear",
           cite.style = "authoryear",
           style = "markdown",
           hyperlink = FALSE,
           dashed = FALSE)
bib <- ReadBib("bib/myBib.bib", check = FALSE)
```

class: title-slide   
<a href="https://github.com/PhD-Toolbox-course/2020_PhD_Toolbox_course"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>


<br><br><br>
# .font200[Data science in Unix and R]
## .font180[Reproducible Research]

<br>
.marco[
Marco Chiapello
<br>
June 8, 2020
]

---

# PhDToolbox Course


.font120[
In this module we focus on .font150[.red[Reproducible Research]]
]


```{r ds-class-options, echo=FALSE}
knitr::include_graphics("images/data-science-flow-overall.png")
```

---

class: inverse
<br><br>
.font170[.white[
**Replication** is the ultimate standard by which scientific claims are judged `r Cite(bib, author = "Peng")`. 
<br><br>
The fact that an analysis is reproducible does not guarantee the quality, correctness, or validity of the published results.
]
]


---
# What reproducible research is

```{r fulmine, echo=FALSE, out.width = "750px"}
knitr::include_graphics("images/001.jpg")
```

---
# What reproducible research is

```{r miracle, echo=FALSE, out.width = "750px"}
knitr::include_graphics("images/thenamiracleoccurs.jpg")
```

This is exactly how it seems when you try to figure out how authors got from a large and complex data set to a dense paper with lots of busy figures.
Without access to the data and the analysis code, a miracle occurred.

.content-box-title[
.white[
.center[
.font120[There should be no miracles in science `r Cite(bib, author = "Markowetz")`]
]
]
]

---
# What reproducible research is
.center[
.font200[DATA + ANALYSIS `r fontawesome::fa("arrow-right", fill = "black")` RESULTS
]
]

--
.center[
.font200[BUT not like this
]
]

---

# What reproducible research is

```{r motivate, echo=FALSE, out.width = "1200px"}
knitr::include_graphics("images/motivatedReasoning.png")
```

---
# What reproducible research is
.center[
.font200[DATA + ANALYSIS `r fontawesome::fa("arrow-right", fill = "black")` RESULTS
]
]

## Common practice of writing statistical reports:
.font150[
- We import a dataset into .red[Excel]
- Run a procedure to get all results
- .blue[Copy and paste] selected pieces into a typesetting program (usually .red[Word])
- Add a few descriptions
- Finish a report
]

---
# What reproducible research is

## There are obvious dangers and disadvantages in this process:
.font160[
1. It is .bold[error-prone] due to too much manual work;
2. It requires lots of human effort to do .bold[tedious jobs];
3. The workflow is barely recordable, therefore it is .bold[difficult to reproduce];
4. A .bold[tiny change] of the data source in the future will require the author(s) to go through the same procedure again;
5. The analysis and writing are separate, so close attention has to be paid to the .bold[synchronization of the two parts].
]

---
# What reproducible research is

.center[.font200[What is Reproducible Research?]]
<br>
.center[.content-box-red[.font150[.bold[The ability to reproduce someone else results]]]]
<br>

--

----

### What do you need?

--
- .font140[Data]

--
- .font140[Code]

--
- .font140[Documentation for data and code]

---
# What reproducible research is
## Reproducible vs Replicable


```{r tab1, echo=FALSE, out.width = "1200px"}
knitr::include_graphics("images/Screenshot 2020-05-19 at 06.49.21.png")
```
<br><br><br>
.marco[
Ref: https://github.com/KirstieJane/ReproducibleResearch
]
---
# What reproducible research is
.font120[
.bold[Reproducibility/reproduce]   
A study is reproducible if there is a specific set of computational functions/analyses (usually specified in terms of code) that .red[exactly reproduce all of the numbers in a published paper from raw data].

.bold[Replication/replicate]    
A study is only replicable if you perform the exact same experiment (at least) twice, collect data in the same way both times, perform the same data analysis, and .red[arrive at the same conclusions].

----

.bold[Reproducibility] is, to some extent, a .red[technical challenge], while   
.bold[Replication] .red[gives to the results scientific validity].]

.marco[
Ref: https://github.com/lgatto/TeachingMaterial/tree/master/open-rr-bioinfo-best-practice]

---
class: title-slide  

# .font180[Reproducible Research Reasons]
<br><br><br><br><br><br><br><br><br>
.marco[
.font130[How does working reproducibly help to achieve more as a scientist]    
.font100[`r Cite(bib, author = "Markowetz")`]
]
---
# Reasons to work reproducibly

## REPRODUCIBILITY 

 Idealist:
1. It is the foundation of science!
2. The world would be a better place if everyone worked transparently and reproducibly!



Realist:
1. It helps to avoid disaster
• You need to record in detail how you got there
• Work reproducibly early on will save you time later
2. It makes it easier to write papers
• To have very transparent data and code, it costs just few minutes to spot a mistake (if any) 3. It helps reviewers see it your way
• Made the data and well-documented code easily accessible to the reviewers
4. It enables continuity of your work
• How can you ensure the continuity of work in your lab if progress is not documented reproducibly?
• No proof of reproducibility, no result!
5. It helps to build your reputation
• To build a reputation for being an honest and careful researcher

---
# References

```{r refs, echo=FALSE, results="asis"}
PrintBibliography(bib)

```